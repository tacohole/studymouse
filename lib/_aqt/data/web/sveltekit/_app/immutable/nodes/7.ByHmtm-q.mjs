import"../chunks/BbkoyQuY.mjs";import{i as _t}from"../chunks/-ESH3Vzs.mjs";import{s as I,c as Lt,e as me,d as Je,k as cn}from"../chunks/CAm1qXYJ.mjs";import{p as mt,l as lt,k as B,a as $t,h as tt,f as Z,i as F,Y as k,r as S,u as R,b as rt,c as G,d as pt,g as d,m as q,aN as te,s as Y,ba as ee,b7 as he,ai as ma,n as Et,e as Bt,bb as bt,j as ve,b6 as un,aM as Ot,aK as dn,ab as fn,t as gn}from"../chunks/D0Kcqh4a.mjs";import{p as Q,i as Dt,s as Mt,a as Pt,c as aa,b as ue}from"../chunks/8hkm7YIM.mjs";import{cn as Me,co as na,cp as vn,cq as Fa,cr as je,cs as ra,aw as dt,t as Qt,ct as hn,cu as mn,cv as sa,cw as oa,cx as ia,cy as pn,cz as bn,cA as yn,cB as _n,cC as xn,cD as $n,cE as wn,cF as kn,cG as Dn,cH as Mn,cI as pe,cJ as An,cK as Tn,cL as Cn,cM as Na,cN as Rn,cO as Sn,cP as Pn,cQ as Fn,u as pa,cR as Nn,cS as Bn,cT as Yn,cU as jn,cV as Ln,cW as On,cX as Hn,cY as zn,cZ as Re,c_ as Gn,c$ as qn,d0 as In,d1 as En,d2 as Qn,d3 as Vn,d4 as Wn,d5 as Un,d6 as Xn,d7 as Kn,d8 as Jn,q as Ba,d9 as Zn,da as tr,db as er,dc as ar,dd as nr,de as rr,df as sr,dg as or,dh as ir,di as lr,dj as cr,dk as ur,dl as dr,dm as fr,dn as gr,dp as vr,dq as hr,dr as mr,ds as pr,dt as ba,du as br,dv as yr,dw as _r,dx as xr,dy as $r,dz as wr,dA as kr,dB as Dr,dC as Mr,dD as Ar,dE as Tr,I as Cr,dF as Rr,dG as Sr,dH as Pr,dI as Fr,dJ as Nr,dK as Br,dL as Yr,dM as jr,dN as Lr,dO as Or,dP as Hr,dQ as zr,dR as Gr,dS as qr,dT as Ir,dU as Ya,dV as ja,dW as Er,dX as Qr,dY as Vr,dZ as Wr,d_ as Ur,d$ as Xr,e0 as Qe,e1 as Kr,e2 as Jr,e3 as Zr}from"../chunks/Ch7ZtZmv.mjs";import{d as la,t as jt,M as Se,Y as ts,T as Ve,s as es}from"../chunks/C4xCUJvN.mjs";import{O as ya,P as Ze,Q as as,R as ns,S as rs,A as Pe,v as La,T as Kt,U as Oa,V as Ha,W as za,X as ss,Y as os,Z as Ga,_ as ot,$ as qa,a0 as is,a1 as ls,a2 as cs,E as us,a3 as Ht,a4 as H,B as ct,a5 as xt,a6 as Ct,a7 as it,y as ae,z as Yt,C as Le,D as Oe,a8 as ca,F as ye,G as _e,H as xe,L as He,J as $e,K as ne,N as we,I as Rt,M as St,k as Xt,j as ds,m as de,l as fs,a9 as gs,aa as vs,o as hs,ab as Ia}from"../chunks/6_pb3DgZ.mjs";import{m as Fe}from"../chunks/D1slsF82.mjs";import{i as ms,I as _a,c as re,C as ua,T as Gt}from"../chunks/BBdNGqKw.mjs";import{b as yt,a as da,c as ps}from"../chunks/dPqBMmTD.mjs";import{b as se}from"../chunks/Dm-VOW7A.mjs";import{l as ft,a as bs,b as ys,c as _s}from"../chunks/CtwPNh8B.mjs";import{h as xs,G as It,E as $s,H as ws,J as ks,s as Ds}from"../chunks/BfDh-mSI.mjs";import{e as oe,i as ie,p as Ms}from"../chunks/B9FzK2Aa.mjs";import{c as xa}from"../chunks/jkNgFhw5.mjs";import{a as As}from"../chunks/BeTNDSwu.mjs";import{a as Ts}from"../chunks/YQoxH8jz.mjs";import{a as Cs,H as Rs}from"../chunks/CmYyQsAK.mjs";import{a as fa}from"../chunks/xV9jLUMk.mjs";function Ss(t,e){let a=0;for(let s of t)s!=null&&(s=+s)>=s&&++a;return a}function ga(t,e){var a=0,s=0;return Float64Array.from(t,e===void 0?n=>a+=+n||0:n=>a+=+e(n,s++,t)||0)}function Zt(t,e){let a,s;if(e===void 0)for(const n of t)n!=null&&(a===void 0?n>=n&&(a=s=n):(a>n&&(a=n),s<n&&(s=n)));else{let n=-1;for(let r of t)(r=e(r,++n,t))!=null&&(a===void 0?r>=r&&(a=s=r):(a>r&&(a=r),s<r&&(s=r)))}return[a,s]}function Ps(t=ya){if(t===ya)return Ea;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,a)=>{const s=t(e,a);return s||s===0?s:(t(a,a)===0)-(t(e,e)===0)}}function Ea(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}var Fs=Array.prototype,Ns=Fs.slice;function We(t){return()=>t}function Bs(t,e,a){let s;for(;;){const n=Ze(t,e,a);if(n===s||n===0||!isFinite(n))return[t,e];n>0?(t=Math.floor(t/n)*n,e=Math.ceil(e/n)*n):n<0&&(t=Math.ceil(t*n)/n,e=Math.floor(e*n)/n),s=n}}function Ys(t){return Math.max(1,Math.ceil(Math.log(Ss(t))/Math.LN2)+1)}function zt(){var t=ms,e=Zt,a=Ys;function s(n){Array.isArray(n)||(n=Array.from(n));var r,g=n.length,o,f,c=new Array(g);for(r=0;r<g;++r)c[r]=t(n[r],r,n);var v=e(c),l=v[0],i=v[1],m=a(c,l,i);if(!Array.isArray(m)){const b=i,x=+m;if(e===Zt&&([l,i]=Bs(l,i,x)),m=as(l,i,x),m[0]<=l&&(f=Ze(l,i,x)),m[m.length-1]>=i)if(b>=i&&e===Zt){const D=Ze(l,i,x);isFinite(D)&&(D>0?i=(Math.floor(i/D)+1)*D:D<0&&(i=(Math.ceil(i*-D)+1)/-D))}else m.pop()}for(var _=m.length,y=0,u=_;m[y]<=l;)++y;for(;m[u-1]>i;)--u;(y||u<_)&&(m=m.slice(y,u),_=u-y);var p=new Array(_+1),h;for(r=0;r<=_;++r)h=p[r]=[],h.x0=r>0?m[r-1]:l,h.x1=r<_?m[r]:i;if(isFinite(f)){if(f>0)for(r=0;r<g;++r)(o=c[r])!=null&&l<=o&&o<=i&&p[Math.min(_,Math.floor((o-l)/f))].push(n[r]);else if(f<0){for(r=0;r<g;++r)if((o=c[r])!=null&&l<=o&&o<=i){const b=Math.floor((l-o)*f);p[Math.min(_,b+(m[b]<=o))].push(n[r])}}}else for(r=0;r<g;++r)(o=c[r])!=null&&l<=o&&o<=i&&p[ns(m,o,0,_)].push(n[r]);return p}return s.value=function(n){return arguments.length?(t=typeof n=="function"?n:We(n),s):t},s.domain=function(n){return arguments.length?(e=typeof n=="function"?n:We([n[0],n[1]]),s):e},s.thresholds=function(n){return arguments.length?(a=typeof n=="function"?n:We(Array.isArray(n)?Ns.call(n):n),s):a},s}function Qa(t,e,a=0,s=1/0,n){if(e=Math.floor(e),a=Math.floor(Math.max(0,a)),s=Math.floor(Math.min(t.length-1,s)),!(a<=e&&e<=s))return t;for(n=n===void 0?Ea:Ps(n);s>a;){if(s-a>600){const f=s-a+1,c=e-a+1,v=Math.log(f),l=.5*Math.exp(2*v/3),i=.5*Math.sqrt(v*l*(f-l)/f)*(c-f/2<0?-1:1),m=Math.max(a,Math.floor(e-c*l/f+i)),_=Math.min(s,Math.floor(e+(f-c)*l/f+i));Qa(t,e,m,_,n)}const r=t[e];let g=a,o=s;for(fe(t,a,e),n(t[s],r)>0&&fe(t,a,s);g<o;){for(fe(t,g,o),++g,--o;n(t[g],r)<0;)++g;for(;n(t[o],r)>0;)--o}n(t[a],r)===0?fe(t,a,o):(++o,fe(t,o,s)),o<=e&&(a=o+1),e<=o&&(s=o-1)}return t}function fe(t,e,a){const s=t[e];t[e]=t[a],t[a]=s}function Ue(t,e,a){if(t=Float64Array.from(rs(t)),!(!(s=t.length)||isNaN(e=+e))){if(e<=0||s<2)return Fe(t);if(e>=1)return Pe(t);var s,n=(s-1)*e,r=Math.floor(n),g=Pe(Qa(t,r).subarray(0,r+1)),o=Fe(t.subarray(r+1));return g+(o-g)*(n-r)}}function js(t,e,a){t=+t,e=+e,a=(n=arguments.length)<2?(e=t,t=0,1):n<3?1:+a;for(var s=-1,n=Math.max(0,Math.ceil((e-t)/a))|0,r=new Array(n);++s<n;)r[s]=t+s*a;return r}const $a=Symbol("implicit");function Va(){var t=new _a,e=[],a=[],s=$a;function n(r){let g=t.get(r);if(g===void 0){if(s!==$a)return s;t.set(r,g=e.push(r)-1)}return a[g%a.length]}return n.domain=function(r){if(!arguments.length)return e.slice();e=[],t=new _a;for(const g of r)t.has(g)||t.set(g,e.push(g)-1);return n},n.range=function(r){return arguments.length?(a=Array.from(r),n):a.slice()},n.unknown=function(r){return arguments.length?(s=r,n):s},n.copy=function(){return Va(e,a).unknown(s)},La.apply(n,arguments),n}function Ne(){var t=Va().unknown(void 0),e=t.domain,a=t.range,s=0,n=1,r,g,o=!1,f=0,c=0,v=.5;delete t.unknown;function l(){var i=e().length,m=n<s,_=m?n:s,y=m?s:n;r=(y-_)/Math.max(1,i-f+c*2),o&&(r=Math.floor(r)),_+=(y-_-r*(i-f))*v,g=r*(1-f),o&&(_=Math.round(_),g=Math.round(g));var u=js(i).map(function(p){return _+r*p});return a(m?u.reverse():u)}return t.domain=function(i){return arguments.length?(e(i),l()):e()},t.range=function(i){return arguments.length?([s,n]=i,s=+s,n=+n,l()):[s,n]},t.rangeRound=function(i){return[s,n]=i,s=+s,n=+n,o=!0,l()},t.bandwidth=function(){return g},t.step=function(){return r},t.round=function(i){return arguments.length?(o=!!i,l()):o},t.padding=function(i){return arguments.length?(f=Math.min(1,c=+i),l()):f},t.paddingInner=function(i){return arguments.length?(f=Math.min(1,i),l()):f},t.paddingOuter=function(i){return arguments.length?(c=+i,l()):c},t.align=function(i){return arguments.length?(v=Math.max(0,Math.min(1,i)),l()):v},t.copy=function(){return Ne(e(),[s,n]).round(o).paddingInner(f).paddingOuter(c).align(v)},La.apply(l(),arguments)}function wa(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function Ls(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function Os(t){return t<0?-t*t:t*t}function Hs(t){var e=t(Kt,Kt),a=1;function s(){return a===1?t(Kt,Kt):a===.5?t(Ls,Os):t(wa(a),wa(1/a))}return e.exponent=function(n){return arguments.length?(a=+n,s()):a},Oa(e)}function Wa(){var t=0,e=1,a,s,n,r,g=Kt,o=!1,f;function c(l){return l==null||isNaN(l=+l)?f:g(n===0?.5:(l=(r(l)-a)*n,o?Math.max(0,Math.min(1,l)):l))}c.domain=function(l){return arguments.length?([t,e]=l,a=r(t=+t),s=r(e=+e),n=a===s?0:1/(s-a),c):[t,e]},c.clamp=function(l){return arguments.length?(o=!!l,c):o},c.interpolator=function(l){return arguments.length?(g=l,c):g};function v(l){return function(i){var m,_;return arguments.length?([m,_]=i,g=l(m,_),c):[g(0),g(1)]}}return c.range=v(za),c.rangeRound=v(ss),c.unknown=function(l){return arguments.length?(f=l,c):f},function(l){return r=l,a=l(t),s=l(e),n=a===s?0:1/(s-a),c}}function Ua(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function Tt(){var t=Oa(Wa()(Kt));return t.copy=function(){return Ua(t,Tt())},Ha.apply(t,arguments)}function Xa(){var t=Hs(Wa());return t.copy=function(){return Ua(t,Xa()).exponent(t.exponent())},Ha.apply(t,arguments)}function zs(){return Xa.apply(null,arguments).exponent(.5)}const le=t=>os(t[t.length-1]);var Gs=new Array(3).concat("fc8d59ffffbf91cf60","d7191cfdae61a6d96a1a9641","d7191cfdae61ffffbfa6d96a1a9641","d73027fc8d59fee08bd9ef8b91cf601a9850","d73027fc8d59fee08bffffbfd9ef8b91cf601a9850","d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850","d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850","a50026d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850006837","a50026d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850006837").map(re);const ze=le(Gs);var Ka=new Array(3).concat("deebf79ecae13182bd","eff3ffbdd7e76baed62171b5","eff3ffbdd7e76baed63182bd08519c","eff3ffc6dbef9ecae16baed63182bd08519c","eff3ffc6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b508519c08306b").map(re);const Ge=le(Ka);var ta=new Array(3).concat("e5f5e0a1d99b31a354","edf8e9bae4b374c476238b45","edf8e9bae4b374c47631a354006d2c","edf8e9c7e9c0a1d99b74c47631a354006d2c","edf8e9c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45006d2c00441b").map(re);const ea=le(ta);var qs=new Array(3).concat("efedf5bcbddc756bb1","f2f0f7cbc9e29e9ac86a51a3","f2f0f7cbc9e29e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a354278f3f007d").map(re);const Is=le(qs);var Ja=new Array(3).concat("fee0d2fc9272de2d26","fee5d9fcae91fb6a4acb181d","fee5d9fcae91fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181da50f1567000d").map(re);const Es=le(Ja);var Za=new Array(3).concat("fee6cefdae6be6550d","feeddefdbe85fd8d3cd94701","feeddefdbe85fd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d94801a636037f2704").map(re);const Qs=le(Za),ka=Math.abs,wt=Math.atan2,qt=Math.cos,Vs=Math.max,Xe=Math.min,Nt=Math.sin,Jt=Math.sqrt,At=1e-12,be=Math.PI,Be=be/2,Ae=2*be;function Ws(t){return t>1?0:t<-1?be:Math.acos(t)}function Da(t){return t>=1?Be:t<=-1?-Be:Math.asin(t)}function Us(t){return t.innerRadius}function Xs(t){return t.outerRadius}function Ks(t){return t.startAngle}function Js(t){return t.endAngle}function Zs(t){return t&&t.padAngle}function to(t,e,a,s,n,r,g,o){var f=a-t,c=s-e,v=g-n,l=o-r,i=l*f-v*c;if(!(i*i<At))return i=(v*(e-r)-l*(t-n))/i,[t+i*f,e+i*c]}function De(t,e,a,s,n,r,g){var o=t-a,f=e-s,c=(g?r:-r)/Jt(o*o+f*f),v=c*f,l=-c*o,i=t+v,m=e+l,_=a+v,y=s+l,u=(i+_)/2,p=(m+y)/2,h=_-i,b=y-m,x=h*h+b*b,D=n-r,N=i*y-_*m,$=(b<0?-1:1)*Jt(Vs(0,D*D*x-N*N)),w=(N*b-h*$)/x,A=(-N*h-b*$)/x,T=(N*b+h*$)/x,C=(-N*h+b*$)/x,O=w-u,M=A-p,P=T-u,j=C-p;return O*O+M*M>P*P+j*j&&(w=T,A=C),{cx:w,cy:A,x01:-v,y01:-l,x11:w*(n/D-1),y11:A*(n/D-1)}}function eo(){var t=Us,e=Xs,a=ot(0),s=null,n=Ks,r=Js,g=Zs,o=null,f=Ga(c);function c(){var v,l,i=+t.apply(this,arguments),m=+e.apply(this,arguments),_=n.apply(this,arguments)-Be,y=r.apply(this,arguments)-Be,u=ka(y-_),p=y>_;if(o||(o=v=f()),m<i&&(l=m,m=i,i=l),!(m>At))o.moveTo(0,0);else if(u>Ae-At)o.moveTo(m*qt(_),m*Nt(_)),o.arc(0,0,m,_,y,!p),i>At&&(o.moveTo(i*qt(y),i*Nt(y)),o.arc(0,0,i,y,_,p));else{var h=_,b=y,x=_,D=y,N=u,$=u,w=g.apply(this,arguments)/2,A=w>At&&(s?+s.apply(this,arguments):Jt(i*i+m*m)),T=Xe(ka(m-i)/2,+a.apply(this,arguments)),C=T,O=T,M,P;if(A>At){var j=Da(A/i*Nt(w)),V=Da(A/m*Nt(w));(N-=j*2)>At?(j*=p?1:-1,x+=j,D-=j):(N=0,x=D=(_+y)/2),($-=V*2)>At?(V*=p?1:-1,h+=V,b-=V):($=0,h=b=(_+y)/2)}var E=m*qt(h),K=m*Nt(h),J=i*qt(D),U=i*Nt(D);if(T>At){var X=m*qt(b),W=m*Nt(b),at=i*qt(x),nt=i*Nt(x),st;if(u<be)if(st=to(E,K,at,nt,X,W,J,U)){var ut=E-st[0],gt=K-st[1],vt=X-st[0],Ft=W-st[1],L=1/Nt(Ws((ut*vt+gt*Ft)/(Jt(ut*ut+gt*gt)*Jt(vt*vt+Ft*Ft)))/2),et=Jt(st[0]*st[0]+st[1]*st[1]);C=Xe(T,(i-et)/(L-1)),O=Xe(T,(m-et)/(L+1))}else C=O=0}$>At?O>At?(M=De(at,nt,E,K,m,O,p),P=De(X,W,J,U,m,O,p),o.moveTo(M.cx+M.x01,M.cy+M.y01),O<T?o.arc(M.cx,M.cy,O,wt(M.y01,M.x01),wt(P.y01,P.x01),!p):(o.arc(M.cx,M.cy,O,wt(M.y01,M.x01),wt(M.y11,M.x11),!p),o.arc(0,0,m,wt(M.cy+M.y11,M.cx+M.x11),wt(P.cy+P.y11,P.cx+P.x11),!p),o.arc(P.cx,P.cy,O,wt(P.y11,P.x11),wt(P.y01,P.x01),!p))):(o.moveTo(E,K),o.arc(0,0,m,h,b,!p)):o.moveTo(E,K),!(i>At)||!(N>At)?o.lineTo(J,U):C>At?(M=De(J,U,X,W,i,-C,p),P=De(E,K,at,nt,i,-C,p),o.lineTo(M.cx+M.x01,M.cy+M.y01),C<T?o.arc(M.cx,M.cy,C,wt(M.y01,M.x01),wt(P.y01,P.x01),!p):(o.arc(M.cx,M.cy,C,wt(M.y01,M.x01),wt(M.y11,M.x11),!p),o.arc(0,0,i,wt(M.cy+M.y11,M.cx+M.x11),wt(P.cy+P.y11,P.cx+P.x11),p),o.arc(P.cx,P.cy,C,wt(P.y11,P.x11),wt(P.y01,P.x01),!p))):o.arc(0,0,i,D,x,p)}if(o.closePath(),v)return o=null,v+""||null}return c.centroid=function(){var v=(+t.apply(this,arguments)+ +e.apply(this,arguments))/2,l=(+n.apply(this,arguments)+ +r.apply(this,arguments))/2-be/2;return[qt(l)*v,Nt(l)*v]},c.innerRadius=function(v){return arguments.length?(t=typeof v=="function"?v:ot(+v),c):t},c.outerRadius=function(v){return arguments.length?(e=typeof v=="function"?v:ot(+v),c):e},c.cornerRadius=function(v){return arguments.length?(a=typeof v=="function"?v:ot(+v),c):a},c.padRadius=function(v){return arguments.length?(s=v==null?null:typeof v=="function"?v:ot(+v),c):s},c.startAngle=function(v){return arguments.length?(n=typeof v=="function"?v:ot(+v),c):n},c.endAngle=function(v){return arguments.length?(r=typeof v=="function"?v:ot(+v),c):r},c.padAngle=function(v){return arguments.length?(g=typeof v=="function"?v:ot(+v),c):g},c.context=function(v){return arguments.length?(o=v==null?null:v,c):o},c}function va(t,e,a){var s=null,n=ot(!0),r=null,g=is,o=null,f=Ga(c);t=typeof t=="function"?t:t===void 0?ls:ot(+t),e=typeof e=="function"?e:e===void 0?ot(0):ot(+e),a=typeof a=="function"?a:a===void 0?cs:ot(+a);function c(l){var i,m,_,y=(l=qa(l)).length,u,p=!1,h,b=new Array(y),x=new Array(y);for(r==null&&(o=g(h=f())),i=0;i<=y;++i){if(!(i<y&&n(u=l[i],i,l))===p)if(p=!p)m=i,o.areaStart(),o.lineStart();else{for(o.lineEnd(),o.lineStart(),_=i-1;_>=m;--_)o.point(b[_],x[_]);o.lineEnd(),o.areaEnd()}p&&(b[i]=+t(u,i,l),x[i]=+e(u,i,l),o.point(s?+s(u,i,l):b[i],a?+a(u,i,l):x[i]))}if(h)return o=null,h+""||null}function v(){return us().defined(n).curve(g).context(r)}return c.x=function(l){return arguments.length?(t=typeof l=="function"?l:ot(+l),s=null,c):t},c.x0=function(l){return arguments.length?(t=typeof l=="function"?l:ot(+l),c):t},c.x1=function(l){return arguments.length?(s=l==null?null:typeof l=="function"?l:ot(+l),c):s},c.y=function(l){return arguments.length?(e=typeof l=="function"?l:ot(+l),a=null,c):e},c.y0=function(l){return arguments.length?(e=typeof l=="function"?l:ot(+l),c):e},c.y1=function(l){return arguments.length?(a=l==null?null:typeof l=="function"?l:ot(+l),c):a},c.lineX0=c.lineY0=function(){return v().x(t).y(e)},c.lineY1=function(){return v().x(t).y(a)},c.lineX1=function(){return v().x(s).y(e)},c.defined=function(l){return arguments.length?(n=typeof l=="function"?l:ot(!!l),c):n},c.curve=function(l){return arguments.length?(g=l,r!=null&&(o=g(r)),c):g},c.context=function(l){return arguments.length?(l==null?r=o=null:o=g(r=l),c):r},c}function ao(t,e){return e<t?-1:e>t?1:e>=t?0:NaN}function no(t){return t}function ro(){var t=no,e=ao,a=null,s=ot(0),n=ot(Ae),r=ot(0);function g(o){var f,c=(o=qa(o)).length,v,l,i=0,m=new Array(c),_=new Array(c),y=+s.apply(this,arguments),u=Math.min(Ae,Math.max(-Ae,n.apply(this,arguments)-y)),p,h=Math.min(Math.abs(u)/c,r.apply(this,arguments)),b=h*(u<0?-1:1),x;for(f=0;f<c;++f)(x=_[m[f]=f]=+t(o[f],f,o))>0&&(i+=x);for(e!=null?m.sort(function(D,N){return e(_[D],_[N])}):a!=null&&m.sort(function(D,N){return a(o[D],o[N])}),f=0,l=i?(u-c*b)/i:0;f<c;++f,y=p)v=m[f],x=_[v],p=y+(x>0?x*l:0)+b,_[v]={data:o[v],index:f,value:x,startAngle:y,endAngle:p,padAngle:h};return _}return g.value=function(o){return arguments.length?(t=typeof o=="function"?o:ot(+o),g):t},g.sortValues=function(o){return arguments.length?(e=o,a=null,g):e},g.sort=function(o){return arguments.length?(a=o,e=null,g):a},g.startAngle=function(o){return arguments.length?(s=typeof o=="function"?o:ot(+o),g):s},g.endAngle=function(o){return arguments.length?(n=typeof o=="function"?o:ot(+o),g):n},g.padAngle=function(o){return arguments.length?(r=typeof o=="function"?o:ot(+o),g):r},g}function Ma(t,e,a){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+a)/6)}function tn(t){this._context=t}tn.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Ma(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Ma(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function ha(t){return new tn(t)}function Aa(t){return{daysAdded:Ht(t.added.added)}}function so(t,e){const a=`"added:${t}"`;if(t===1)return a;const s=`-"added:${e}"`;return`${a} AND ${s}`}function oo(t,e,a,s){if(!t.daysAdded.size)return[null,[]];let r;switch(e){case H.Month:r=-31;break;case H.ThreeMonths:r=-90;break;case H.Year:r=-365;break;case H.AllTime:r=Fe(t.daysAdded.keys());break}const g=1,o=Math.min(70,Math.abs(r)),f=ct().domain([r,g]),c=zt().value(b=>b[0]).domain(f.domain()).thresholds(f.ticks(o))(t.daysAdded.entries()),v=Ct;if(!xt(c,v))return[null,[]];const l=ct().range([.7,.3]),i=Tt(b=>Ge(l(b))).domain([g,r]),m=xt(c,v),_=Math.abs(r),y=Math.round(m/_),u=[{label:na(),value:Me({cards:m})},{label:Fa(),value:vn({count:y})}];function p(b,x,D){const N=la(b.x0,b.x1),$=Me({cards:v(b)}),w=je(),A=Me({cards:x});return`${N}:<br>${$}<br>${w}: ${A}`}function h(b){const x=Math.abs(b.x0)+1,D=Math.abs(b.x1)+1,N=so(x,D);a("search",{query:N})}return[{scale:f,bins:c,total:m,hoverText:p,onClick:s?h:null,colourScale:i,binValue:Ct,showArea:!0},u]}var io=tt('<label><input type="radio"/> </label>'),lo=tt('<label><input type="radio"/> </label> <label><input type="radio"/> </label> <label><input type="radio"/> </label> <!>',1);function ke(t,e){mt(e,!1);const a=[];let s=Q(e,"revlogRange",8),n=Q(e,"graphRange",12),r=Q(e,"followRevlog",8,!1);function g(T){T===it.All?n(H.AllTime):n()===H.AllTime&&n(H.Year)}const o=jt(1*Se),f=jt(3*Se),c=jt(1*ts),v=ra();lt(()=>(B(r()),B(s())),()=>{r()&&g(s())}),$t(),_t();var l=lo(),i=Z(l),m=F(i);dt(m);var _,y=k(m);S(i);var u=k(i,2),p=F(u);dt(p);var h,b=k(p);S(u);var x=k(u,2),D=F(x);dt(D);var N,$=k(D);S(x);var w=k(x,2);{var A=T=>{var C=io(),O=F(C);dt(O);var M,P=k(O);S(C),rt(()=>{var j;M!==(M=(B(H),R(()=>H.AllTime)))&&(O.value=(j=O.__value=(B(H),R(()=>H.AllTime)))!=null?j:""),I(P,` ${v!=null?v:""}`)}),yt(a,[],O,()=>(B(H),R(()=>H.AllTime),n()),n),G(T,C)};Dt(w,T=>{B(s()),B(it),R(()=>s()===it.All)&&T(A)})}rt(()=>{var T,C,O;_!==(_=(B(H),R(()=>H.Month)))&&(m.value=(T=m.__value=(B(H),R(()=>H.Month)))!=null?T:""),I(y,` ${o!=null?o:""}`),h!==(h=(B(H),R(()=>H.ThreeMonths)))&&(p.value=(C=p.__value=(B(H),R(()=>H.ThreeMonths)))!=null?C:""),I(b,` ${f!=null?f:""}`),N!==(N=(B(H),R(()=>H.Year)))&&(D.value=(O=D.__value=(B(H),R(()=>H.Year)))!=null?O:""),I($,` ${c!=null?c:""}`)}),yt(a,[],m,()=>(B(H),R(()=>H.Month),n()),n),yt(a,[],p,()=>(B(H),R(()=>H.ThreeMonths),n()),n),yt(a,[],D,()=>(B(H),R(()=>H.Year),n()),n),G(t,l),pt()}const co="tick-odd",en="graph-element-clickable";function uo(t,e,a){var p;const s=ae(t),n=s.transition().duration(600),r=h=>ft(h);if(a)Yt(s,!0);else{Yt(s,!1);return}const g=(p=a.binValue)!=null?p:h=>h.length,o=a.scale.range([e.marginLeft,e.width-e.marginRight]);s.select(".x-ticks").call(h=>{var b;return h.transition(n).call(Le(o).ticks(7).tickSizeOuter(0).tickFormat((b=a.xTickFormat)!=null?b:r))}).attr("direction","ltr");const f=Pe(a.bins,h=>g(h)),c=ct().range([e.height-e.marginBottom,e.marginTop]).domain([0,f]).nice();s.select(".y-ticks").call(h=>h.transition(n).call(Oe(c).ticks(e.height/50).tickSizeOuter(0).tickFormat(r))).attr("direction","ltr");function v(h){const b=Math.max(0,o(h.x1)-o(h.x0)-1);return b!=null?b:0}const l=h=>h.attr("width",v).transition(n).attr("x",b=>o(b.x0)).attr("y",b=>c(g(b))).attr("height",b=>c(0)-c(g(b))).attr("fill",b=>a.colourScale(b.x1));s.select("g.bars").selectAll("rect").data(a.bins).join(h=>h.append("rect").attr("rx",1).attr("x",b=>o(b.x0)).attr("y",c(0)).attr("height",0).call(l),h=>h.call(l),h=>h.call(b=>b.transition(n).attr("height",0).attr("y",c(0))));const i=a.bins.map(h=>g(h));i.unshift(0);const m=ga(i),_=c.copy().domain([0,a.total]).nice();a.showArea&&a.bins.length&&m.slice(-1)[0]&&(s.select(".y2-ticks").call(h=>h.transition(n).call(ca(_).ticks(e.height/50).tickSizeOuter(0).tickFormat(r))).attr("direction","ltr"),s.select("path.cumulative-overlay").datum(m).attr("d",va().curve(ha).x((h,b)=>o(b===0?a.bins[0].x0:a.bins[b-1].x1)).y0(e.height-e.marginBottom).y1(h=>_(h))));const y=a.bins.map((h,b)=>[h,m[b+1]]),u=s.select("g.hover-columns").selectAll("rect").data(y).join("rect").attr("x",([h])=>o(h.x0)).attr("y",()=>c(f)).attr("width",([h])=>v(h)).attr("height",()=>c(0)-c(f)).on("mousemove",(h,[b,x])=>{const[D,N]=ye(h,document.body),$=a.showArea?x/a.total*100:0;_e(a.hoverText(b,x,$),D,N)}).on("mouseout",xe);a.onClick&&u.filter(([h])=>h.length>0).attr("class",en).on("click",(h,[b])=>a.onClick(b))}var fo=te('<svg><g class="bars"></g><!><!><!><!></svg>');function Vt(t,e){mt(e,!1);let a=Q(e,"data",8,null);const s=ne();let n=q(null);lt(()=>(d(n),B(a())),()=>{uo(d(n),s,a())}),$t(),_t();var r=fo(),g=k(F(r));He(g);var o=k(g);ua(o);var f=k(o);$e(f,{get bounds(){return s}});var c=k(f);we(c,{get bounds(){return s}}),S(r),se(r,v=>Y(n,v),()=>d(n)),rt(()=>Qt(r,"viewBox",R(()=>`0 0 ${s.width} ${s.height}`))),G(t,r),pt()}var go=tt("<!> <!> <!>",1);function vo(t,e){mt(e,!1);const[a,s]=Pt(),n=()=>Mt(g(),"$prefs",a);let r=Q(e,"sourceData",8,null),g=Q(e,"prefs",8),o=q(null),f=q([]),c=q(H.Month);const v=Lt();let l=q(null);const i=hn(),m=mn();lt(()=>(B(r()),Aa),()=>{r()&&Y(l,Aa(r()))}),lt(()=>(d(l),d(o),d(f),d(c),n()),()=>{d(l)&&(_=>{var y=ee(_,2);Y(o,y[0]),Y(f,y[1])})(oo(d(l),d(c),v,n().browserLinksSupported))}),$t(),_t(),Rt(t,{get title(){return i},get subtitle(){return m},children:(_,y)=>{var u=go(),p=Z(u);St(p,{children:(x,D)=>{ke(x,{get revlogRange(){return B(it),R(()=>it.All)},get graphRange(){return d(c)},set graphRange(N){Y(c,N)},$$legacy:!0})},$$slots:{default:!0}});var h=k(p,2);Vt(h,{get data(){return d(o)}});var b=k(h,2);Gt(b,{get tableData(){return d(f)}}),G(_,u)},$$slots:{default:!0}}),pt(),s()}function ho(t,e){const a=t.buttons;switch(e){case H.Month:return a.oneMonth;case H.ThreeMonths:return a.threeMonths;case H.Year:return a.oneYear;case H.AllTime:return a.allTime}}function mo(t,e,a,s){const n=ho(a,s),r=[...n.learning.map((h,b)=>({buttonNum:b+1,group:"learning",count:h})),...n.young.map((h,b)=>({buttonNum:b+1,group:"young",count:h})),...n.mature.map((h,b)=>({buttonNum:b+1,group:"mature",count:h}))],g=h=>{const b=r.filter($=>$.group==h),x=xt(b,$=>$.count),D=xt(b.filter($=>$.buttonNum>1),$=>$.count),N=x?ft(D/x*100):"0";return{total:x,correct:D,percent:N}},o=h=>{const b=g(h.group).total,x=h.count,D=b?ft(x/b*100):"0";return`${ft(x)} (${D}%)`},f=Math.max(...r.map(h=>h.count)),c=ae(t),v=c.transition().duration(600);if(f)Yt(c,!0);else{Yt(c,!1);return}const l=Ne().domain(["learning","young","mature"]).range([e.marginLeft,e.width-e.marginRight]);c.select(".x-ticks").call(h=>h.transition(v).call(Le(l).tickFormat(b=>{let x;switch(b){case"learning":x=ia();break;case"young":x=oa();break;case"mature":default:x=sa();break}return`${x}`}).tickSizeOuter(0))).attr("direction","ltr");const i=Ne().domain(["1","2","3","4"]).range([0,l.bandwidth()]).paddingOuter(1).paddingInner(.1),m=Tt(ze).domain([1,4]),_=h=>ft(h),y=ct().range([e.height-e.marginBottom,e.marginTop]).domain([0,f]);c.select(".y-ticks").call(h=>h.transition(v).call(Oe(y).ticks(e.height/50).tickSizeOuter(0).tickFormat(_))).attr("direction","ltr");const u=h=>h.attr("width",i.bandwidth()).attr("opacity",.8).transition(v).attr("x",b=>l(b.group)+i(b.buttonNum.toString())).attr("y",b=>y(b.count)).attr("height",b=>y(0)-y(b.count)).attr("fill",b=>m(b.buttonNum));c.select("g.bars").selectAll("rect").data(r).join(h=>h.append("rect").attr("rx",1).attr("x",b=>l(b.group)+i(b.buttonNum.toString())).attr("y",y(0)).attr("height",0).call(u),h=>h.call(u),h=>h.call(b=>b.transition(v).attr("height",0).attr("y",y(0))));function p(h){const b=pn(),x=bn(),D=yn(g(h.group)),N=_n(),$=`${x}: ${o(h)}`;let w;return h.buttonNum===1?w=xn():h.buttonNum===2?w=$n():h.buttonNum===3?w=wn():h.buttonNum===4?w=kn():w="",`${b}: ${h.buttonNum} (${w})<br>${$}<br>${D} ${N}`}c.select("g.hover-columns").selectAll("rect").data(r).join("rect").attr("x",h=>l(h.group)+i(h.buttonNum.toString())).attr("y",()=>y(f)).attr("width",i.bandwidth()).attr("height",()=>y(0)-y(f)).on("mousemove",(h,b)=>{const[x,D]=ye(h,document.body);_e(p(b),x,D)}).on("mouseout",xe)}var po=te('<!><svg><g class="bars"></g><!><!><!></svg>',1);function bo(t,e){mt(e,!1);let a=Q(e,"sourceData",8,null),s=Q(e,"revlogRange",8),n=q(H.Year);const r=ne();let g=q(null);const o=Dn(),f=Mn();lt(()=>(B(a()),d(g),d(n)),()=>{a()&&mo(d(g),r,a(),d(n))}),$t(),_t(),Rt(t,{get title(){return o},get subtitle(){return f},children:(c,v)=>{var l=po(),i=Z(l);St(i,{children:(p,h)=>{ke(p,{get revlogRange(){return s()},followRevlog:!0,get graphRange(){return d(n)},set graphRange(b){Y(n,b)},$$legacy:!0})},$$slots:{default:!0}});var m=k(i),_=k(F(m));He(_);var y=k(_);$e(y,{get bounds(){return r}});var u=k(y);we(u,{get bounds(){return r}}),S(m),se(m,p=>Y(g,p),()=>d(g)),rt(()=>Qt(m,"viewBox",R(()=>`0 0 ${r.width} ${r.height}`))),G(c,l)},$$slots:{default:!0}}),pt()}function yo(t,e){const a=new Map(Object.entries(t.reviews.count).map(([r,g])=>[Number(r),g.learn+g.relearn+g.mature+g.filtered+g.young])),s=xo(e),n=[];for(let r=0;r<7;r++)n.push((e+r)%7);return{reviewCount:a,timeFunction:s,weekdayLabels:n,rolloverHour:t.rolloverHour}}function _o(t,e,a,s,n,r,g,o){const f=ae(t),c=new Date,v=new Date;v.setFullYear(n);const l=ct().range([e.marginLeft,e.width-e.marginRight]).domain([-1,53]),i=new Map;let m=0;for(const[$,w]of a.reviewCount.entries()){let A=Xt.offset(c,$);if(A=ds.offset(A,-1*a.rolloverHour),w>m&&(m=w),A.getFullYear()!=n)continue;const T=a.timeFunction.count(de(A),A),C=Xt.count(a.timeFunction(A),A),O=Xt.count(de(A),A);i.set(O,{day:$,count:w,weekNumber:T,weekDay:C,date:A})}if(m)Yt(f,!0);else{Yt(f,!1);return}const _=de(v),y=new Date(c);y.setFullYear(c.getFullYear()-1);for(let $=0;$<365;$++){const w=Xt.offset(_,$);if(w>c||g==it.Year&&w<y)continue;const A=Xt.count(de(w),w);if(!i.has(A)){const T=a.timeFunction.count(de(w),w),C=Xt.count(a.timeFunction(w),w);i.set(A,{day:A,count:0,weekNumber:T,weekDay:C,date:w})}}const u=Array.from(i.values()),p=ct().range([.2,r?.8:1]),h=zs().domain([0,m]).interpolator($=>Ge(p($)));function b($){const w=ys($.date,{weekday:"long",year:"numeric",month:"long",day:"numeric"}),A=pe({reviews:$.count});return`${w}<br>${A}`}const x=e.height/10,D=r?"#333":"#ddd",N=xs();f.select("g.weekdays").selectAll("text").data(a.weekdayLabels).join("text").text($=>bs($)).attr("width",l(-1)-2).attr("height",x-2).attr("x",l(1)-3).attr("y",($,w)=>e.marginTop+w*x).attr("fill",r?"#ddd":"black").attr("dominant-baseline","hanging").attr("text-anchor","end").attr("font-size",N.includes("zh")?"xx-small":"small").attr("font-family","monospace").attr("direction","ltr").style("user-select","none").on("click",null).filter($=>[It.SUNDAY,It.MONDAY,It.FRIDAY,It.SATURDAY].includes($)).on("click",($,w)=>o(w)),f.select("g.days").selectAll("rect").data(u).join("rect").attr("fill",D).attr("width",$=>l($.weekNumber+1)-l($.weekNumber)-2).attr("height",x-2).attr("x",$=>l($.weekNumber+1)).attr("y",$=>e.marginTop+$.weekDay*x).on("mousemove",($,w)=>{const[A,T]=ye($,document.body);_e(b(w),A,T)}).on("mouseout",xe).attr("class",$=>$.count>0?en:"").on("click",function($,w){w.count>0&&s("search",{query:`"prop:rated=${w.day}"`})}).transition().duration(800).attr("fill",$=>$.count===0?D:h($.count))}function xo(t){switch(t){case It.MONDAY:return hs;case It.FRIDAY:return vs;case It.SATURDAY:return gs;default:return fs}}var $o=tt("<span><button>◄</button></span> <span> </span> <span><button>►</button></span>",1),wo=te('<!><svg><g class="weekdays"></g><g class="days"></g><!><!></svg>',1);function ko(t,e){mt(e,!1);const[a,s]=Pt(),n=()=>Mt(g(),"$prefs",a);let r=Q(e,"sourceData",8),g=Q(e,"prefs",8),o=Q(e,"revlogRange",8),f=Q(e,"nightMode",8);const c=Lt();let v=q(null);const l=q(ne());he(l,d(l).height=120),he(l,d(l).marginLeft=20),he(l,d(l).marginRight=20);let i=q(null);const m=new Date().getFullYear();let _=q(0),y=q(m);const u=An();lt(()=>(B(o()),d(_),d(y)),()=>{o()<it.Year?Y(_,m):o()===it.Year?Y(_,m-1):Y(_,2e3),d(y)<d(_)&&Y(y,d(_))}),lt(()=>(B(r()),d(v),n(),d(i),d(l),d(y),B(f()),B(o())),()=>{r()&&(Y(v,yo(r(),n().calendarFirstDayOfWeek)),_o(d(i),d(l),d(v),c,d(y),f(),o(),p=>aa(g(),R(n).calendarFirstDayOfWeek=p,R(n))))}),$t(),_t(),Rt(t,{get title(){return u},children:(p,h)=>{var b=wo(),x=Z(b);St(x,{children:(w,A)=>{var T=$o(),C=Z(T),O=F(C);S(C);var M=k(C,2),P=F(M,!0);S(M);var j=k(M,2),V=F(j);S(j),rt(()=>{O.disabled=d(_)>=d(y),I(P,d(y)),V.disabled=d(y)>=m}),me("click",O,()=>ma(y,-1)),me("click",V,()=>ma(y)),G(w,T)},$$slots:{default:!0}});var D=k(x),N=k(F(D),2);$e(N,{get bounds(){return d(l)}});var $=k(N);we($,{get bounds(){return d(l)}}),S(D),se(D,w=>Y(i,w),()=>d(i)),rt(()=>Qt(D,"viewBox",(d(l),R(()=>`0 0 ${d(l).width} ${d(l).height}`)))),G(p,b)},$$slots:{default:!0}}),pt(),s()}const Ta=[Ka[5][2],Za[5][2],Ja[5][2],ta[5][2],ta[5][3],"#FFDC41","grey"];function Do(t,e){const a=e?t.cardCounts.excludingInactive:t.cardCounts.includingInactive,s=e?'AND -("is:buried" OR "is:suspended")':"";return[[Cn(),a.newCards,!0,`"is:new"${s}`],[ia(),a.learn,!0,`(-"is:review" AND "is:learn")${s}`],[Na(),a.relearn,!0,`("is:review" AND "is:learn")${s}`],[oa(),a.young,!0,`("is:review" AND -"is:learn") AND "prop:ivl<21"${s}`],[sa(),a.mature,!0,`("is:review" -"is:learn") AND "prop:ivl>=21"${s}`],[Rn(),a.suspended,e,'"is:suspended"'],[Sn(),a.buried,e,'"is:buried"']]}function Mo(t,e){const a=Do(t,e),s=ft(xt(a,n=>n[1]));return{title:Tn(),counts:a,totalCards:s}}function Ao(t,e,a){const s=ga(a.counts,_=>_[1]),n=Array.from(s).map((_,y)=>{const u=a.counts[y];return{label:u[0],count:u[1],show:u[2],query:u[3],total:_}}),r=Math.max(1,s.slice(-1)[0]),g=ct().domain([0,r]),o=ae(t),f=o.select(".counts"),c=ro()(a.counts.map(_=>_[1])),v=e.height/2-e.marginTop-e.marginBottom,l=eo().innerRadius(0).outerRadius(v),i=o.transition().duration(600);return f.attr("transform",`translate(${v},${v+e.marginTop})`).selectAll("path").data(c).join(_=>_.append("path").attr("fill",(y,u)=>Ta[u]).attr("d",l),function(_){return _.call(y=>y.transition(i).attrTween("d",u=>{const p=za({startAngle:0,endAngle:0},u);return h=>l(p(h))}))}),g.range([e.marginLeft,e.width-e.marginRight]),n.flatMap((_,y)=>{const u=ft(_.count/r*100,2);return _.show?{label:_.label,count:ft(_.count),percent:`${u}%`,colour:Ta[y],query:_.query}:[]})}var To=tt('<label><input type="checkbox"/> </label>'),Co=tt('<button class="search-link svelte-1rcict1"> </button>'),Ro=tt("<span> </span>"),So=tt('<tr><td class="svelte-1rcict1"><span>■&nbsp;</span> <!></td><td class="right svelte-1rcict1"> </td><td class="right svelte-1rcict1"> </td></tr>'),Po=tt('<!> <div class="counts-outer svelte-1rcict1"><div class="svg-container svelte-1rcict1"><svg class="svelte-1rcict1"><g class="counts"></g></svg></div> <div class="counts-table svelte-1rcict1"><table class="svelte-1rcict1"><tbody><!><tr><td class="svelte-1rcict1"><span style="visibility: hidden;">■</span> </td><td class="right svelte-1rcict1"> </td><td class="svelte-1rcict1"></td></tr></tbody></table></div></div>',1);function Fo(t,e){mt(e,!1);const[a,s]=Pt(),n=()=>Mt(g(),"$prefs",a);let r=Q(e,"sourceData",8),g=Q(e,"prefs",8);const o=Lt();let f=q(null);const c=q(ne());he(c,d(c).width=225),he(c,d(c).marginBottom=0);let v=q(null),l=q(null);const i=Pn(),m=Fn();lt(()=>(d(v),B(r()),n(),d(f),d(c)),()=>{Y(v,Mo(r(),n().cardCountsSeparateInactive)),Y(l,Ao(d(f),d(c),d(v)))}),$t(),_t(),Rt(t,{get title(){return d(v),R(()=>d(v).title)},children:(_,y)=>{var u=Po(),p=Z(u);St(p,{children:(P,j)=>{var V=To(),E=F(V);dt(E);var K=k(E);S(V),rt(()=>I(K,` ${i!=null?i:""}`)),da(E,()=>n().cardCountsSeparateInactive,J=>aa(g(),R(n).cardCountsSeparateInactive=J,R(n))),G(P,V)},$$slots:{default:!0}});var h=k(p,2),b=F(h),x=F(b);se(x,P=>Y(f,P),()=>d(f)),S(b);var D=k(b,2),N=F(D),$=F(N),w=F($);oe(w,1,()=>d(l),ie,(P,j)=>{var V=So(),E=F(V),K=F(E),J=k(K,2);{var U=ut=>{var gt=Co(),vt=F(gt,!0);S(gt),rt(()=>I(vt,(d(j),R(()=>d(j).label)))),me("click",gt,()=>o("search",{query:d(j).query})),G(ut,gt)},X=ut=>{var gt=Ro(),vt=F(gt,!0);S(gt),rt(()=>I(vt,(d(j),R(()=>d(j).label)))),G(ut,gt)};Dt(J,ut=>{n(),R(()=>n().browserLinksSupported)?ut(U):ut(X,!1)})}S(E);var W=k(E),at=F(W,!0);S(W);var nt=k(W),st=F(nt,!0);S(nt),S(V),rt(()=>{var ut;pa(K,`color: ${(ut=(d(j),R(()=>d(j).colour)))!=null?ut:""};`),I(at,(d(j),R(()=>d(j).count))),I(st,(d(j),R(()=>d(j).percent)))}),G(P,V)});var A=k(w),T=F(A),C=k(F(T));S(T);var O=k(T),M=F(O,!0);S(O),Et(),S(A),S($),S(N),S(D),S(h),rt(()=>{var P;Qt(x,"viewBox",(d(c),R(()=>`0 0 ${d(c).width} ${d(c).height}`))),pa(x,`opacity: ${(P=(d(v),R(()=>d(v).totalCards?1:0)))!=null?P:""}`),I(C,` ${m!=null?m:""}`),I(M,(d(v),R(()=>d(v).totalCards)))}),G(_,u)},$$slots:{default:!0}}),pt(),s()}function No(t){return{eases:Ht(t.difficulty.eases),average:t.difficulty.average}}function Bo(t,e){const a=`"prop:d>=${t/100}"`;let s=`"prop:d<${(e+1)/100}"`;return e===99&&(s=s.replace("<","<=")),`${a} AND ${s}`}function Yo(t,e,a){const s=ct().domain([t,e]).nice(),n=s.ticks(a),r=s.domain(),g=t-r[0],o=n[1]-n[0];if(g===0||g%o!==0&&o%g!==0)return[s,n];const f=c=>c+g;return[ct().domain(r.map(f)),n.map(f)]}function jo(t,e,a){const s=t.eases;if(!s.size)return[null,[]];const n=0,r=100,g=20,[o,f]=Yo(n,r,g),c=zt().value(u=>u[0]).domain(o.domain()).thresholds(f)(s.entries()),v=xt(c,Ct),l=Tt(ze).domain([100,0]);function i(u,p){const h=`${u.x0}%-${u.x1}%`;return Bn({cards:Ct(u),percent:h})}function m(u){const p=u.x0,h=u.x1-1,b=Bo(p,h);e("search",{query:b})}const _=u=>ft(u,0)+"%",y=[{label:Nn(),value:_(t.average)}];return[{scale:o,bins:c,total:v,hoverText:i,onClick:a?m:null,colourScale:l,showArea:!1,binValue:Ct,xTickFormat:_},y]}var Lo=tt("<!> <!>",1);function Oo(t,e){mt(e,!1);const[a,s]=Pt(),n=()=>Mt(g(),"$prefs",a);let r=Q(e,"sourceData",8,null),g=Q(e,"prefs",8);const o=Lt();let f=q(null),c=q([]);const v=Yn(),l=jn();lt(()=>(B(r()),d(f),d(c),n()),()=>{r()&&(y=>{var u=ee(y,2);Y(f,u[0]),Y(c,u[1])})(jo(No(r()),o,n().browserLinksSupported))}),$t(),_t();var i=Bt(),m=Z(i);{var _=y=>{Rt(y,{get title(){return v},get subtitle(){return l},children:(u,p)=>{var h=Lo(),b=Z(h);Vt(b,{get data(){return d(f)}});var x=k(b,2);Gt(x,{get tableData(){return d(c)}}),G(u,h)},$$slots:{default:!0}})};Dt(m,y=>{B(r()),R(()=>{var u;return(u=r())==null?void 0:u.fsrs})&&y(_)})}G(t,i),pt(),s()}function Ho(t){return{eases:Ht(t.eases.eases),average:t.eases.average}}function zo(t,e){if(t===e)return`"prop:ease=${t/100}"`;const a=`"prop:ease>=${t/100}"`,s=`"prop:ease<${(e+1)/100}"`;return`${a} AND ${s}`}function Go(t,e,a){const s=ct().domain([t,e]).nice(),n=s.ticks(a),r=s.domain(),g=t-r[0],o=n[1]-n[0];if(g===0||g%o!==0&&o%g!==0)return[s,n];const f=c=>c+g;return[ct().domain(r.map(f)),n.map(f)]}function qo(t,e,a){const s=t.eases;if(!s.size)return[null,[]];const[,n]=Zt(s.keys()),r=130,g=n+1,o=20,[f,c]=Go(r,g,o),v=zt().value(p=>p[0]).domain(f.domain()).thresholds(c)(s.entries()),l=xt(v,Ct),i=Tt(ze).domain([r,300]);function m(p,h){const b=Math.floor(p.x0),D=Math.floor(p.x1)-b<=10?`${p.x0}%`:`${p.x0}%-${p.x1}%`;return On({cards:Ct(p),percent:D})}function _(p){const h=p.x0,b=p.x1-1,x=zo(h,b);e("search",{query:x})}const y=p=>ft(p,0)+"%",u=[{label:Ln(),value:y(t.average)}];return[{scale:f,bins:v,total:l,hoverText:m,onClick:a?_:null,colourScale:i,showArea:!1,binValue:Ct,xTickFormat:y},u]}var Io=tt("<!> <!>",1);function Eo(t,e){mt(e,!1);const[a,s]=Pt(),n=()=>Mt(g(),"$prefs",a);let r=Q(e,"sourceData",8,null),g=Q(e,"prefs",8);const o=Lt();let f=q(null),c=q([]);const v=Hn(),l=zn();lt(()=>(B(r()),d(f),d(c),n()),()=>{r()&&(y=>{var u=ee(y,2);Y(f,u[0]),Y(c,u[1])})(qo(Ho(r()),o,n().browserLinksSupported))}),$t(),_t();var i=Bt(),m=Z(i);{var _=y=>{Rt(y,{get title(){return v},get subtitle(){return l},children:(u,p)=>{var h=Io(),b=Z(h);Vt(b,{get data(){return d(f)}});var x=k(b,2);Gt(x,{get tableData(){return d(c)}}),G(u,h)},$$slots:{default:!0}})};Dt(m,y=>{B(r()),R(()=>{var u,p;return!((p=(u=r())==null?void 0:u.fsrs)!=null&&p)})&&y(_)})}G(t,i),pt(),s()}function Ca(t){const e=t.futureDue;return{dueCounts:Ht(e.futureDue),haveBacklog:e.haveBacklog,dailyLoad:e.dailyLoad}}function Qo(t,e){if(t===e)return`"prop:due=${t}"`;{const a=`"prop:due>=${t}"`,s=`"prop:due<=${e}"`;return`${a} AND ${s}`}}function Vo(t){const e=new Map;for(const[a,s]of t.entries())a>=0&&e.set(a,s);return e}function Wo(t,e,a,s,n){var N;const r={histogramData:null,tableData:[]},g=a?t.dueCounts:Vo(t.dueCounts);if(!g)return r;const[o,f]=Zt(g.keys());let c=o;a||(c=0);let v=f;switch(e){case H.Month:v=31;break;case H.ThreeMonths:v=90;break;case H.Year:v=365;break;case H.AllTime:break}const l=Math.min(70,v-c),i=ct().domain([c,v]),m=zt().value($=>$[0]).domain(i.domain()).thresholds(i.ticks(l))(g.entries());if(!xt(m,$=>$.length))return r;const _=$=>ft($),y=ct().range([.7,.3]),u=Tt($=>ea(y($))).domain([c,v]),p=xt(m,Ct);function h($,w,A){const T=la($.x0,$.x1===v?$.x1+1:$.x1),C=In({cards:Ct($)}),O=je();return`${T}:<br>${C}<br>${O}: ${ft(w)}`}function b($){const w=$.x0,A=$.x1===v?$.x1:$.x1-1,T=Qo(w,A);s("search",{query:T})}const x=v-c,D=[{label:na(),value:pe({reviews:p})},{label:Fa(),value:Re({count:Math.round(p/x)})},{label:Gn(),value:pe({reviews:(N=t.dueCounts.get(1))!=null?N:0})},{label:qn(),value:Re({count:t.dailyLoad})}];return{histogramData:{scale:i,bins:m,total:p,hoverText:h,onClick:n?b:null,showArea:!0,colourScale:u,binValue:Ct,xTickFormat:_},tableData:D}}var Uo=tt('<label><input type="checkbox"/> </label>'),Xo=tt("<!> <!>",1),Ko=tt("<!> <!> <!>",1);function Jo(t,e){mt(e,!1);const[a,s]=Pt(),n=()=>Mt(g(),"$prefs",a);let r=Q(e,"sourceData",8,null),g=Q(e,"prefs",8);const o=Lt();let f=q(null),c=q(null),v=q([]),l=q(H.Month);const i=En(),m=Qn(),_=Vn();lt(()=>(B(r()),Ca),()=>{r()&&Y(f,Ca(r()))}),lt(()=>(d(f),d(c),d(v),d(l),n()),()=>{d(f)&&(y=>{Y(c,y.histogramData),Y(v,y.tableData)})(Wo(d(f),d(l),n().futureDueShowBacklog,o,n().browserLinksSupported))}),$t(),_t(),Rt(t,{get title(){return i},get subtitle(){return m},children:(y,u)=>{var p=Ko(),h=Z(p);St(h,{children:(D,N)=>{var $=Xo(),w=Z($);{var A=C=>{var O=Uo(),M=F(O);dt(M);var P=k(M);S(O),rt(()=>I(P,` ${_!=null?_:""}`)),da(M,()=>n().futureDueShowBacklog,j=>aa(g(),R(n).futureDueShowBacklog=j,R(n))),G(C,O)};Dt(w,C=>{d(f),R(()=>d(f)&&d(f).haveBacklog)&&C(A)})}var T=k(w,2);ke(T,{get revlogRange(){return B(it),R(()=>it.All)},get graphRange(){return d(l)},set graphRange(C){Y(l,C)},$$legacy:!0}),G(D,$)},$$slots:{default:!0}});var b=k(h,2);Vt(b,{get data(){return d(c)}});var x=k(b,2);Gt(x,{get tableData(){return d(v)}}),G(y,p)},$$slots:{default:!0}}),pt(),s()}var Zo=tt('<label class="svelte-2xjw1t"><input type="radio" class="svelte-2xjw1t"/> </label> <label class="svelte-2xjw1t"><input type="radio" class="svelte-2xjw1t"/> </label> <input type="text" id="statisticsSearchText" class="svelte-2xjw1t"/>',1),ti=tt('<label class="svelte-2xjw1t"><input type="radio" class="svelte-2xjw1t"/> </label> <label class="svelte-2xjw1t"><input type="radio" class="svelte-2xjw1t"/> </label>',1),ei=tt('<div class="range-box svelte-2xjw1t"><div>◐</div> <!> <!></div> <div class="range-box-pad svelte-2xjw1t"></div>',1);function an(t,e){mt(e,!1);const[a,s]=Pt(),n=()=>Mt(v(),"$days",a),r=()=>Mt(l(),"$search",a),g=[],o=[];var f=q();(function(C){C[C.Deck=1]="Deck",C[C.Collection=2]="Collection",C[C.Custom=3]="Custom"})(bt(f)||Y(f,{}));let c=Q(e,"loading",8),v=Q(e,"days",8),l=Q(e,"search",8),i=q(Ia(n())),m=q();r()==="deck:current"?Y(m,bt(f).Deck):r()===""?Y(m,bt(f).Collection):Y(m,bt(f).Custom);let _=q(r());function y(){ue(l(),d(_))}const u=Wn(),p=Un(),h=Xn(),b=Kn(),x=Jn();lt(()=>(d(m),bt(f)),()=>{switch(d(m)){case bt(f).Deck:ue(l(),Y(_,"deck:current"));break;case bt(f).Collection:ue(l(),Y(_,""));break}}),lt(()=>(d(i),it),()=>{switch(d(i)){case it.Year:ue(v(),365);break;case it.All:ue(v(),0);break}}),$t(),_t();var D=ei(),N=Z(D),$=F(N);let w;var A=k($,2);St(A,{children:(C,O)=>{var M=Zo(),P=Z(M),j=F(P);dt(j);var V,E=k(j);S(P);var K=k(P,2),J=F(K);dt(J);var U,X=k(J);S(K);var W=k(K,2);dt(W),rt(()=>{var at,nt;V!==(V=(bt(f),R(()=>bt(f).Deck)))&&(j.value=(at=j.__value=(bt(f),R(()=>bt(f).Deck)))!=null?at:""),I(E,` ${p!=null?p:""}`),U!==(U=(bt(f),R(()=>bt(f).Collection)))&&(J.value=(nt=J.__value=(bt(f),R(()=>bt(f).Collection)))!=null?nt:""),I(X,` ${h!=null?h:""}`),Qt(W,"placeholder",b)}),yt(g,[],j,()=>(bt(f),R(()=>bt(f).Deck),d(m)),at=>Y(m,at)),yt(g,[],J,()=>(bt(f),R(()=>bt(f).Collection),d(m)),at=>Y(m,at)),ps(W,()=>d(_),at=>Y(_,at)),me("change",W,y),me("focus",W,()=>{Y(m,bt(f).Custom)}),G(C,M)},$$slots:{default:!0}});var T=k(A,2);St(T,{children:(C,O)=>{var M=ti(),P=Z(M),j=F(P);dt(j);var V,E=k(j);S(P);var K=k(P,2),J=F(K);dt(J);var U,X=k(J);S(K),rt(()=>{var W,at;V!==(V=(B(it),R(()=>it.Year)))&&(j.value=(W=j.__value=(B(it),R(()=>it.Year)))!=null?W:""),I(E,` ${u!=null?u:""}`),U!==(U=(B(it),R(()=>it.All)))&&(J.value=(at=J.__value=(B(it),R(()=>it.All)))!=null?at:""),I(X,` ${x!=null?x:""}`)}),yt(o,[],j,()=>(B(it),R(()=>it.Year),d(i)),W=>Y(i,W)),yt(o,[],J,()=>(B(it),R(()=>it.All),d(i)),W=>Y(i,W)),G(C,M)},$$slots:{default:!0}}),S(N),Et(2),rt(C=>w=Ba($,1,"spin svelte-2xjw1t",null,w,C),[()=>({loading:c()})],ve),G(t,D),pt(),s()}async function ai(t,e){let a=await t();const{subscribe:s,set:n}=Je(a);function r(o){a=o,n(o),e(o)}function g(o){r(o(a))}return{subscribe:s,set:r,update:g}}function ni(t,e){mt(e,!1);const[a,s]=Pt(),n=()=>Mt(o(),"$search",a),r=()=>Mt(f(),"$days",a),g=q();let o=Q(e,"search",8),f=Q(e,"days",8);const c=ai(()=>ks({}),ws);let v=q(null),l=q(!0);async function i(y,u){await c,Y(l,!0);try{Y(v,await $s({search:y,days:u}))}finally{Y(l,!1)}}lt(()=>(n(),r()),()=>{i(n(),r())}),lt(()=>r(),()=>{Y(g,Ia(r()))}),$t(),_t();var m=Bt(),_=Z(m);Ts(_,()=>c,null,(y,u)=>{var p=Bt(),h=Z(p);Ds(h,e,"default",{get revlogRange(){return d(g)},get prefs(){return d(u)},get sourceData(){return d(v)},get loading(){return d(l)}}),G(y,p)}),G(t,m),pt(),s()}var ri=tt('<!> <div class="graphs-container svelte-n9umk6"><!></div> <div class="spacer svelte-n9umk6"></div>',1);function si(t,e){mt(e,!1);const[a,s]=Pt(),n=()=>Mt(f,"$search",a),r=()=>Mt(Ms,"$pageTheme",a);let g=Q(e,"initialSearch",8),o=Q(e,"initialDays",8);const f=Je(g()),c=Je(o());let v=Q(e,"graphs",8),l=Q(e,"controller",8,an);function i(m){As(`browserSearch: ${n()} ${m.detail.query}`)}_t(),ni(t,{get search(){return f},get days(){return c},children:un,$$slots:{default:(m,_)=>{const y=ve(()=>_.sourceData),u=ve(()=>_.loading),p=ve(()=>_.prefs),h=ve(()=>_.revlogRange);var b=ri(),x=Z(b);{var D=A=>{var T=Bt(),C=Z(T);xa(C,l,(O,M)=>{M(O,{get search(){return f},get days(){return c},get loading(){return d(u)}})}),G(A,T)};Dt(x,A=>{l()&&A(D)})}var N=k(x,2),$=F(N);{var w=A=>{var T=Bt(),C=Z(T);oe(C,1,v,ie,(O,M)=>{var P=Bt(),j=Z(P);xa(j,()=>d(M),(V,E)=>{E(V,{get sourceData(){return d(y)},get prefs(){return d(p)},get revlogRange(){return d(h)},get nightMode(){return r(),R(()=>r().isDark)},$$events:{search:i}})}),G(O,P)}),G(A,T)};Dt($,A=>{d(y)&&d(h)&&A(w)})}S(N),Et(2),G(m,b)}}}),pt(),s()}function oi(t,e){function a(s){return s.map((n,r)=>({hour:r,totalCount:n.total,correctCount:n.correct}))}switch(e){case H.Month:return a(t.hours.oneMonth);case H.ThreeMonths:return a(t.hours.threeMonths);case H.Year:return a(t.hours.oneYear);case H.AllTime:return a(t.hours.allTime)}}function ii(t,e,a,s){const n=oi(a,s),r=Math.max(...n.map(u=>u.totalCount)),g=ae(t),o=g.transition().duration(600);if(r)Yt(g,!0);else{Yt(g,!1);return}const f=Ne().domain(n.map(u=>u.hour.toString())).range([e.marginLeft,e.width-e.marginRight]).paddingInner(.1);g.select(".x-ticks").call(u=>u.transition(o).call(Le(f).tickSizeOuter(0))).selectAll(".tick").selectAll("text").classed(co,u=>u%2!=0).attr("direction","ltr");const c=ct().range([.1,.8]),v=Tt(u=>Ge(c(u))).domain([0,r]),l=u=>ft(u),i=ct().range([e.height-e.marginBottom,e.marginTop]).domain([0,r]).nice();g.select(".y-ticks").call(u=>u.transition(o).call(Oe(i).ticks(e.height/50).tickSizeOuter(0).tickFormat(l))).attr("direction","ltr");const m=i.copy().domain([0,1]),_=u=>u.attr("width",f.bandwidth()).transition(o).attr("x",p=>f(p.hour.toString())).attr("y",p=>i(p.totalCount)).attr("height",p=>i(0)-i(p.totalCount)).attr("fill",p=>v(p.totalCount));g.select("g.bars").selectAll("rect").data(n).join(u=>u.append("rect").attr("rx",1).attr("x",p=>f(p.hour.toString())).attr("y",i(0)).attr("height",0).call(_),u=>u.call(_),u=>u.call(p=>p.transition(o).attr("height",0).attr("y",i(0)))),g.select(".y2-ticks").call(u=>u.transition(o).call(ca(m).ticks(e.height/50).tickFormat(p=>`${Math.round(p*100)}%`).tickSizeOuter(0))).attr("direction","ltr"),g.select("path.cumulative-overlay").datum(n).attr("d",va().curve(ha).defined(u=>u.totalCount>0).x(u=>f(u.hour.toString())+f.bandwidth()/2).y0(e.height-e.marginBottom).y1(u=>{const p=u.correctCount/u.totalCount;return m(isNaN(p)?0:p)}));function y(u){const p=Zn({hourStart:u.hour,hourEnd:u.hour+1}),h=tr({reviews:u.totalCount}),b=er({percent:u.totalCount?u.correctCount/u.totalCount*100:0,reviews:u.correctCount});return`${p}<br>${h}<br>${b}`}g.select("g.hover-columns").selectAll("rect").data(n).join("rect").attr("x",u=>f(u.hour.toString())).attr("y",()=>i(r)).attr("width",f.bandwidth()).attr("height",()=>i(0)-i(r)).on("mousemove",(u,p)=>{const[h,b]=ye(u,document.body);_e(y(p),h,b)}).on("mouseout",xe)}var li=te('<!><svg><g class="bars"></g><!><!><!><!></svg>',1);function ci(t,e){mt(e,!1);let a=Q(e,"sourceData",8,null),s=Q(e,"revlogRange",8),n=q(H.Year);const r=ne();let g=q(null);const o=ar(),f=nr();lt(()=>(B(a()),d(g),d(n)),()=>{a()&&ii(d(g),r,a(),d(n))}),$t(),_t(),Rt(t,{get title(){return o},get subtitle(){return f},children:(c,v)=>{var l=li(),i=Z(l);St(i,{children:(h,b)=>{ke(h,{get revlogRange(){return s()},followRevlog:!0,get graphRange(){return d(n)},set graphRange(x){Y(n,x)},$$legacy:!0})},$$slots:{default:!0}});var m=k(i),_=k(F(m));ua(_);var y=k(_);He(y);var u=k(y);$e(u,{get bounds(){return r}});var p=k(u);we(p,{get bounds(){return r}}),S(m),se(m,h=>Y(g,h),()=>d(g)),rt(()=>Qt(m,"viewBox",R(()=>`0 0 ${r.width} ${r.height}`))),G(c,l)},$$slots:{default:!0}}),pt()}var z=(t=>(t[t.Month=0]="Month",t[t.Percentile50=1]="Percentile50",t[t.Percentile95=2]="Percentile95",t[t.All=3]="All",t))(z||{});function Ye(t){const e=Ht(t.intervals),a=xt(e,([r,g])=>g),s=Array(a);let n=0;for(const r of e.entries())s.fill(r[0],n,n+r[1]),n+=r[1];return s.sort((r,g)=>r-g),{intervals:s}}function ui(t,e,a,s){return e-t<=1?(s?or:ir)({day:t,cards:a}):(s?lr:cr)({daysStart:t,daysEnd:e-1,cards:a})}function di(t,e){if(t===e)return`"prop:ivl=${t}"`;const a=`"prop:ivl>=${t}"`,s=`"prop:ivl<=${e}"`;return`${a} ${s}`}function fi(t,e){t===0&&(t=.5);const a=`"prop:s>=${t-.5}"`,s=`"prop:s<${e+.5}"`;return`${a} ${s}`}function nn(t,e,a,s,n){var $;const r=t.intervals;if(!r.length)return[null,[]];const g=0;let[,o]=Zt(r),f=!1;switch(e){case 0:o=Math.min(o,30);break;case 1:o=Ue(r,.5),f=!0;break;case 2:o=Ue(r,.95),f=!0;break;case 3:f=!0;break}o=o+1;const c=n?w=>w:w=>w+1,v=(w,A,T)=>A===T.length-1?[w-(T[0]-1),w+1]:[w-(T[0]-1)],l=Math.min(70,o-g),i=ct().domain([g,o]),m=ct().domain((f?i.nice():i).domain().map(c)),_=zt().domain(m.domain()).thresholds(m.ticks(l).flatMap(v))(r),y=xt(_,w=>w.length);if(!y)return[null,[]];const u=ct().range([.7,.3]),p=Tt(w=>Ge(u(w))).domain([o,g]);function h(w,A,T){const C=ui(w.x0,w.x1,w.length,n),O=je();return`${C}<br>${O}: ‎${ft(T,1)}%`}function b(w){const A=w.x0,T=w.x1-1,C=(n?fi:di)(A,T);a("search",{query:C})}const x=Math.round(($=Ue(r,.5))!=null?$:0),D=jt(x*86400,!1),N=[{label:n?rr():sr(),value:D}];return[{scale:m,bins:_,total:y,hoverText:h,onClick:s?b:null,colourScale:p,showArea:!0},N]}var gi=tt('<label><input type="radio"/> </label> <label><input type="radio"/> 50%</label> <label><input type="radio"/> 95%</label> <label><input type="radio"/> </label>',1),vi=tt("<!> <!> <!>",1);function hi(t,e){mt(e,!1);const[a,s]=Pt(),n=()=>Mt(o(),"$prefs",a),r=[];let g=Q(e,"sourceData",8,null),o=Q(e,"prefs",8);const f=Lt();let c=q(null),v=q(null),l=q([]),i=q(z.Percentile95);const m=ur(),_=dr(),y=jt(1*Se),u=ra();lt(()=>(B(g()),Ye),()=>{g()&&Y(c,Ye(g().intervals))}),lt(()=>(d(c),d(v),d(l),d(i),n()),()=>{d(c)&&(p=>{var h=ee(p,2);Y(v,h[0]),Y(l,h[1])})(nn(d(c),d(i),f,n().browserLinksSupported,!1))}),$t(),_t(),Rt(t,{get title(){return m},get subtitle(){return _},children:(p,h)=>{var b=vi(),x=Z(b);St(x,{children:($,w)=>{var A=gi(),T=Z(A),C=F(T);dt(C);var O,M=k(C);S(T);var P=k(T,2),j=F(P);dt(j);var V;Et(),S(P);var E=k(P,2),K=F(E);dt(K);var J;Et(),S(E);var U=k(E,2),X=F(U);dt(X);var W,at=k(X);S(U),rt(()=>{var nt,st,ut,gt;O!==(O=(B(z),R(()=>z.Month)))&&(C.value=(nt=C.__value=(B(z),R(()=>z.Month)))!=null?nt:""),I(M,` ${y!=null?y:""}`),V!==(V=(B(z),R(()=>z.Percentile50)))&&(j.value=(st=j.__value=(B(z),R(()=>z.Percentile50)))!=null?st:""),J!==(J=(B(z),R(()=>z.Percentile95)))&&(K.value=(ut=K.__value=(B(z),R(()=>z.Percentile95)))!=null?ut:""),W!==(W=(B(z),R(()=>z.All)))&&(X.value=(gt=X.__value=(B(z),R(()=>z.All)))!=null?gt:""),I(at,` ${u!=null?u:""}`)}),yt(r,[],C,()=>(B(z),R(()=>z.Month),d(i)),nt=>Y(i,nt)),yt(r,[],j,()=>(B(z),R(()=>z.Percentile50),d(i)),nt=>Y(i,nt)),yt(r,[],K,()=>(B(z),R(()=>z.Percentile95),d(i)),nt=>Y(i,nt)),yt(r,[],X,()=>(B(z),R(()=>z.All),d(i)),nt=>Y(i,nt)),G($,A)},$$slots:{default:!0}});var D=k(x,2);Vt(D,{get data(){return d(v)}});var N=k(D,2);Gt(N,{get tableData(){return d(l)}}),G(p,b)},$$slots:{default:!0}}),pt(),s()}function mi(t){return{retrievability:Ht(t.retrievability.retrievability),average:t.retrievability.average,sumByCard:t.retrievability.sumByCard,sumByNote:t.retrievability.sumByNote}}function pi(t,e){const a=`"prop:r>=${t/100}"`;let s=`"prop:r<${(e+1)/100}"`;return e===99&&(s=s.replace("<","<=")),`${a} AND ${s}`}function bi(t,e,a){const s=ct().domain([t,e]).nice(),n=s.ticks(a),r=s.domain(),g=t-r[0],o=n[1]-n[0];if(g===0||g%o!==0&&o%g!==0)return[s,n];const f=c=>c+g;return[ct().domain(r.map(f)),n.map(f)]}function yi(t,e,a){const s=t.retrievability;if(!s.size)return[null,[]];const n=0,r=100,g=20,[o,f]=bi(n,r,g),c=zt().value(u=>u[0]).domain(o.domain()).thresholds(f)(s.entries()),v=xt(c,Ct),l=Tt(ze).domain([0,100]);function i(u,p){const h=`${u.x0}%-${u.x1}%`;return hr({cards:Ct(u),percent:h})}function m(u){const p=u.x0,h=u.x1-1,b=pi(p,h);e("search",{query:b})}const _=u=>ft(u,0)+"%",y=[{label:fr(),value:_(t.average)},{label:vr(),value:`${Me({cards:+t.sumByCard.toFixed(0)})} / ${gr({notes:+t.sumByNote.toFixed(0)})}`}];return[{scale:o,bins:c,total:v,hoverText:i,onClick:a?m:null,colourScale:l,showArea:!1,binValue:Ct,xTickFormat:_},y]}var _i=tt("<!> <!>",1);function xi(t,e){mt(e,!1);const[a,s]=Pt(),n=()=>Mt(g(),"$prefs",a);let r=Q(e,"sourceData",8,null),g=Q(e,"prefs",8);const o=Lt();let f=q(null),c=q([]);const v=mr(),l=pr();lt(()=>(B(r()),d(f),d(c),n()),()=>{r()&&(y=>{var u=ee(y,2);Y(f,u[0]),Y(c,u[1])})(yi(mi(r()),o,n().browserLinksSupported))}),$t(),_t();var i=Bt(),m=Z(i);{var _=y=>{Rt(y,{get title(){return v},get subtitle(){return l},children:(u,p)=>{var h=_i(),b=Z(h);Vt(b,{get data(){return d(f)}});var x=k(b,2);Gt(x,{get tableData(){return d(c)}}),G(u,h)},$$slots:{default:!0}})};Dt(m,y=>{B(r()),R(()=>{var u;return(u=r())==null?void 0:u.fsrs})&&y(_)})}G(t,i),pt(),s()}function Ra(t){return{reviewCount:Ht(t.reviews.count),reviewTime:Ht(t.reviews.time)}}function rn(t){const e=[0,0,0,0,0];for(const a of t)e[0]+=a[1].mature,e[1]+=a[1].young,e[2]+=a[1].relearn,e[3]+=a[1].learn,e[4]+=a[1].filtered;return e}function ge(t,e){return xt(rn(t).slice(0,e+1))}function $i(t,e,a,s,n){const r=ae(t),g=r.transition().duration(600),o=1;let f=0;switch(s){case H.Month:f=-30;break;case H.ThreeMonths:f=-89;break;case H.Year:f=-364;break;case H.AllTime:f=Fe(a.reviewCount.keys());break}const c=Math.min(70,Math.abs(f)),v=ct().domain([f,o]);s===H.AllTime&&v.nice(c);const l=n?a.reviewTime:a.reviewCount,i=zt().value(L=>L[0]).domain(v.domain()).thresholds(v.ticks(c))(l.entries());if(xt(i,L=>L.length))Yt(r,!0);else return Yt(r,!1),[];v.range([e.marginLeft,e.width-e.marginRight]),r.select(".x-ticks").call(L=>L.transition(g).call(Le(v).ticks(7).tickSizeOuter(0))).attr("direction","ltr");const _=L=>n?jt(L/1e3,!0,!0,Ve.Hours):Math.round(L)!=L?"":ft(L),y=Pe(i,L=>ge(L,4)),u=ct().range([e.height-e.marginBottom,e.marginTop]).domain([0,y]).nice();r.select(".y-ticks").call(L=>L.transition(g).call(Oe(u).ticks(e.height/50).tickSizeOuter(0).tickFormat(_))).attr("direction","ltr");function p(L){const et=Math.max(0,v(L.x1)-v(L.x0)-1);return et!=null?et:0}const h=ct().range([.3,.5]),b=ct().range([.4,.7]),x=Tt(L=>ea(b(L))).domain(v.domain()),D=Tt(L=>ea(h(L))).domain(v.domain()),N=Tt(L=>Es(h(L))).domain(v.domain()),$=Tt(L=>Qs(h(L))).domain(v.domain()),w=Tt(L=>Is(h(L))).domain(v.domain());function A(L){switch(L){case 0:return x;case 1:return D;case 3:return $;case 2:return N;case 4:return w}}function T(L){return n?jt(L/1e3,!1,!0,Ve.Hours):pe({reviews:L})}function C(L,et){const ht=la(L.x0,L.x1),Wt=rn(L),ce=T(xt(Wt));let Ut=`<table><tr><td>${ht}</td><td align=end>${ce}</td></tr>`;const on=[[4,kr()],[3,ia()],[2,Na()],[1,oa()],[0,sa()],[null,je()]];for(const[qe,ln]of on){let Ie,Ee;qe==null?(Ie="transparent",Ee=T(et)):(Ie=A(qe)(1),Ee=T(Wt[qe])),Ut+=`<tr>
            <td><span style="color: ${Ie};">■</span> ${ln}</td>
            <td align=end>${Ee}</td>
            </tr>`}return Ut}const O=(L,et)=>L.attr("width",p).transition(g).attr("x",ht=>v(ht.x0)).attr("y",ht=>u(ge(ht,et))).attr("height",ht=>u(0)-u(ge(ht,et))).attr("fill",ht=>A(et)(ht.x0));for(const L of[0,1,2,3,4])r.select(`g.bars${L}`).selectAll("rect").data(i).join(et=>et.append("rect").attr("rx",1).attr("x",ht=>v(ht.x0)).attr("y",u(0)).attr("height",0).call(ht=>O(ht,L)),et=>et.call(ht=>O(ht,L)),et=>et.call(ht=>ht.transition(g).attr("height",0).attr("y",u(0))));const M=i.map(L=>ge(L,4));M.unshift(0);const P=ga(M),j=P.slice(-1)[0],V=u.copy().domain([0,j]).nice();j&&(r.select(".y2-ticks").call(L=>L.transition(g).call(ca(V).ticks(e.height/50).tickFormat(_).tickSizeOuter(0))).attr("direction","ltr"),r.select("path.cumulative-overlay").datum(P).attr("d",va().curve(ha).x((L,et)=>v(et===0?i[0].x0:i[et-1].x1)).y0(e.height-e.marginBottom).y1(L=>V(L))));const E=i.map((L,et)=>[L,P[et+1]]);r.select("g.hover-columns").selectAll("rect").data(E).join("rect").attr("x",([L])=>v(L.x0)).attr("y",()=>u(y)).attr("width",([L])=>p(L)).attr("height",()=>u(0)-u(y)).on("mousemove",(L,[et,ht])=>{const[Wt,ce]=ye(L,document.body);_e(C(et,ht),Wt,ce)}).on("mouseout",xe);const K=-f+1,J=xt(i,L=>L.length),U=J/K*100,X=j,W=X/K,at=X/J;let nt,st,ut,gt,vt;if(n){nt=jt(X/1e3,!1,!0,Ve.Hours),st=ba({count:Math.round(at/1e3/60)}),ut=ba({count:Math.round(W/1e3/60)}),vt=br();const L=zt().value(Ut=>Ut[0]).domain(v.domain())(a.reviewCount.entries()),et=xt(L,Ut=>ge(Ut,4)),ht=X/1e3,Wt=ht/et,ce=et*60/ht;gt=yr({averageSeconds:Wt,cardsPerMinute:ce})}else nt=pe({reviews:X}),st=Re({count:Math.round(at)}),ut=Re({count:Math.round(W)}),gt=vt="";const Ft=[{label:xr(),value:_r({amount:J,total:K,percent:U<99.5?ft(U):U<99.95?ft(U,1):U<100?ft(U,2):"100"})},{label:na(),value:nt},{label:$r(),value:ut}];return U<100&&Ft.push({label:wr(),value:st}),gt&&Ft.push({label:vt,value:gt}),Ft}var wi=tt('<label><input type="checkbox"/> </label> <!>',1),ki=te("<g></g>"),Di=te("<!><svg><!><!><!><!><!></svg><!>",1);function Mi(t,e){mt(e,!1);let a=Q(e,"sourceData",8,null),s=Q(e,"revlogRange",8),n=q(null);const r=ne();let g=q(null),o=q(H.Month),f=q(!1),c=q([]);const v=Dr(),l=Mr();let i=q("");lt(()=>(B(a()),Ra),()=>{a()&&Y(n,Ra(a()))}),lt(()=>(d(n),d(g),d(o),d(f)),()=>{d(n)&&Y(c,$i(d(g),r,d(n),d(o),d(f)))}),lt(()=>(d(f),Cr),()=>{d(f)?Y(i,Ar()):Y(i,Tr())}),$t(),_t(),Rt(t,{get title(){return v},get subtitle(){return d(i)},children:(m,_)=>{var y=Di(),u=Z(y);St(u,{children:(w,A)=>{var T=wi(),C=Z(T),O=F(C);dt(O);var M=k(O);S(C);var P=k(C,2);ke(P,{get revlogRange(){return s()},followRevlog:!0,get graphRange(){return d(o)},set graphRange(j){Y(o,j)},$$legacy:!0}),rt(()=>I(M,` ${l!=null?l:""}`)),da(O,()=>d(f),j=>Y(f,j)),G(w,T)},$$slots:{default:!0}});var p=k(u),h=F(p);oe(h,0,()=>[4,3,2,1,0],ie,(w,A)=>{var T=ki();rt(()=>Ba(T,0,`bars${A!=null?A:""}`)),G(w,T)});var b=k(h);ua(b);var x=k(b);He(x);var D=k(x);$e(D,{get bounds(){return r}});var N=k(D);we(N,{get bounds(){return r}}),S(p),se(p,w=>Y(g,w),()=>d(g));var $=k(p);Gt($,{get tableData(){return d(c)}}),rt(()=>Qt(p,"viewBox",R(()=>`0 0 ${r.width} ${r.height}`))),G(m,y)},$$slots:{default:!0}}),pt()}var Ai=tt('<label><input type="radio"/> </label> <label><input type="radio"/> 50%</label> <label><input type="radio"/> 95%</label> <label><input type="radio"/> </label>',1),Ti=tt("<!> <!> <!>",1);function Ci(t,e){mt(e,!1);const[a,s]=Pt(),n=()=>Mt(o(),"$prefs",a),r=[];let g=Q(e,"sourceData",8,null),o=Q(e,"prefs",8);const f=Lt();let c=q(null),v=q(null),l=q([]),i=q(z.Percentile95);const m=Rr(),_=Sr(),y=jt(1*Se),u=ra();lt(()=>(B(g()),Ye),()=>{g()&&Y(c,Ye(g().stability))}),lt(()=>(d(c),d(v),d(l),d(i),n()),()=>{d(c)&&(x=>{var D=ee(x,2);Y(v,D[0]),Y(l,D[1])})(nn(d(c),d(i),f,n().browserLinksSupported,!0))}),$t(),_t();var p=Bt(),h=Z(p);{var b=x=>{Rt(x,{get title(){return m},get subtitle(){return _},children:(D,N)=>{var $=Ti(),w=Z($);St(w,{children:(C,O)=>{var M=Ai(),P=Z(M),j=F(P);dt(j);var V,E=k(j);S(P);var K=k(P,2),J=F(K);dt(J);var U;Et(),S(K);var X=k(K,2),W=F(X);dt(W);var at;Et(),S(X);var nt=k(X,2),st=F(nt);dt(st);var ut,gt=k(st);S(nt),rt(()=>{var vt,Ft,L,et;V!==(V=(B(z),R(()=>z.Month)))&&(j.value=(vt=j.__value=(B(z),R(()=>z.Month)))!=null?vt:""),I(E,` ${y!=null?y:""}`),U!==(U=(B(z),R(()=>z.Percentile50)))&&(J.value=(Ft=J.__value=(B(z),R(()=>z.Percentile50)))!=null?Ft:""),at!==(at=(B(z),R(()=>z.Percentile95)))&&(W.value=(L=W.__value=(B(z),R(()=>z.Percentile95)))!=null?L:""),ut!==(ut=(B(z),R(()=>z.All)))&&(st.value=(et=st.__value=(B(z),R(()=>z.All)))!=null?et:""),I(gt,` ${u!=null?u:""}`)}),yt(r,[],j,()=>(B(z),R(()=>z.Month),d(i)),vt=>Y(i,vt)),yt(r,[],J,()=>(B(z),R(()=>z.Percentile50),d(i)),vt=>Y(i,vt)),yt(r,[],W,()=>(B(z),R(()=>z.Percentile95),d(i)),vt=>Y(i,vt)),yt(r,[],st,()=>(B(z),R(()=>z.All),d(i)),vt=>Y(i,vt)),G(C,M)},$$slots:{default:!0}});var A=k(w,2);Vt(A,{get data(){return d(v)}});var T=k(A,2);Gt(T,{get tableData(){return d(l)}}),G(D,$)},$$slots:{default:!0}})};Dt(h,x=>{B(g()),R(()=>{var D;return(D=g())==null?void 0:D.fsrs})&&x(b)})}G(t,p),pt(),s()}function Sa(t){let e;const a=t.today;if(a.answerCount){const s=es(a.answerCount,a.answerMillis/1e3),n=a.answerCount-a.correctCount;let r=Pr();r+=` ${n} (${ft(n/a.answerCount*100)}%)`;const g=Fr({learnCount:a.learnCount,reviewCount:a.reviewCount,relearnCount:a.relearnCount,filteredCount:a.earlyReviewCount});let o;a.matureCount?o=Nr({correct:a.matureCorrect,total:a.matureCount,percent:a.matureCorrect/a.matureCount*100}):o=Br(),e=[s,r,g,o]}else e=[Yr()];return{title:jr(),lines:e}}var Ri=tt("<div> </div>"),Si=tt('<div class="legend svelte-2llkqb"></div>');function Pi(t,e){mt(e,!1);let a=Q(e,"sourceData",8,null),s=q(null);lt(()=>(B(a()),Sa),()=>{a()&&Y(s,Sa(a()))}),$t(),_t();var n=Bt(),r=Z(n);{var g=o=>{Rt(o,{get title(){return d(s),R(()=>d(s).title)},children:(f,c)=>{var v=Si();oe(v,5,()=>(d(s),R(()=>d(s).lines)),ie,(l,i)=>{var m=Ri(),_=F(m,!0);S(m),rt(()=>I(_,d(i))),G(l,m)}),S(v),G(f,v)},$$slots:{default:!0}})};Dt(r,o=>{d(s)&&o(g)})}G(t,n),pt()}var kt=(t=>(t[t.Young=0]="Young",t[t.Mature=1]="Mature",t[t.All=2]="All",t[t.Summary=3]="Summary",t))(kt||{}),Te=(t=>(t[t.Young=0]="Young",t[t.Mature=1]="Mature",t[t.All=2]="All",t))(Te||{});function Fi(t,e){switch(e){case 0:return t.youngPassed;case 1:return t.maturePassed;case 2:return t.youngPassed+t.maturePassed;default:fa(e)}}function Ni(t,e){switch(e){case 0:return t.youngFailed;case 1:return t.matureFailed;case 2:return t.youngFailed+t.matureFailed;default:fa(e)}}function sn(t,e){const a=[{title:Or(),data:t.today},{title:Hr(),data:t.yesterday},{title:zr(),data:t.week},{title:Gr(),data:t.month},{title:qr(),data:t.year}];return e===it.All&&a.push({title:Ir(),data:t.allTime}),a}function Ce(t,e){const a=t+e;return a===0?Lr():_s({minimumFractionDigits:1,maximumFractionDigits:1,style:"percent"}).format(t/a)}var Bi=tt('<tr class="svelte-1lxg9yv"><th scope="row" class="row-header svelte-1lxg9yv"> </th><td class="young svelte-1lxg9yv"> </td><td class="mature svelte-1lxg9yv"> </td><td class="total svelte-1lxg9yv"> </td><td class="count svelte-1lxg9yv"> </td></tr>'),Yi=tt('<table class="svelte-1lxg9yv"><thead><tr class="svelte-1lxg9yv"><td class="svelte-1lxg9yv"></td><th scope="col" class="col-header young svelte-1lxg9yv"> </th><th scope="col" class="col-header mature svelte-1lxg9yv"> </th><th scope="col" class="col-header total svelte-1lxg9yv"> </th><th scope="col" class="col-header count svelte-1lxg9yv"> </th></tr></thead><tbody></tbody></table>');function ji(t,e){mt(e,!0);const a=Ot(()=>sn(e.data,e.revlogRange));var s=Yi(),n=F(s),r=F(n),g=k(F(r)),o=F(g,!0);S(g);var f=k(g),c=F(f,!0);S(f);var v=k(f),l=F(v,!0);S(v);var i=k(v),m=F(i,!0);S(i),S(r),S(n);var _=k(n);oe(_,21,()=>d(a),ie,(y,u)=>{var p=Bi();const h=Ot(()=>d(u).data.youngPassed+d(u).data.maturePassed),b=Ot(()=>d(u).data.youngFailed+d(u).data.matureFailed);var x=F(p),D=F(x,!0);S(x);var N=k(x),$=F(N,!0);S(N);var w=k(N),A=F(w,!0);S(w);var T=k(w),C=F(T,!0);S(T);var O=k(T),M=F(O,!0);S(O),S(p),rt((P,j,V,E)=>{I(D,d(u).title),I($,P),I(A,j),I(C,V),I(M,E)},[()=>Ce(d(u).data.youngPassed,d(u).data.youngFailed),()=>Ce(d(u).data.maturePassed,d(u).data.matureFailed),()=>Ce(d(h),d(b)),()=>ft(d(h)+d(b))]),G(y,p)}),S(_),S(s),rt((y,u,p,h)=>{I(o,y),I(c,u),I(l,p),I(m,h)},[()=>Ya(),()=>ja(),()=>Er(),()=>Qr()]),G(t,s),pt()}var Li=tt('<tr class="svelte-18jo3yc"><th scope="row" class="row-header svelte-18jo3yc"> </th><td class="pass svelte-18jo3yc"> </td><td class="fail svelte-18jo3yc"> </td><td class="retention svelte-18jo3yc"> </td></tr>'),Oi=tt('<table class="svelte-18jo3yc"><thead><tr class="svelte-18jo3yc"><td class="svelte-18jo3yc"></td><th scope="col" class="col-header pass svelte-18jo3yc"> </th><th scope="col" class="col-header fail svelte-18jo3yc"> </th><th scope="col" class="col-header retention svelte-18jo3yc"> </th></tr></thead><tbody></tbody></table>');function Ke(t,e){mt(e,!0);const a=Ot(()=>sn(e.data,e.revlogRange));var s=Oi(),n=F(s),r=F(n),g=k(F(r)),o=F(g,!0);S(g);var f=k(g),c=F(f,!0);S(f);var v=k(f),l=F(v,!0);S(v),S(r),S(n);var i=k(n);oe(i,21,()=>d(a),ie,(m,_)=>{var y=Li();const u=Ot(()=>Fi(d(_).data,e.scope)),p=Ot(()=>Ni(d(_).data,e.scope));var h=F(y),b=F(h,!0);S(h);var x=k(h),D=F(x,!0);S(x);var N=k(x),$=F(N,!0);S(N);var w=k(N),A=F(w,!0);S(w),S(y),rt((T,C,O)=>{I(b,d(_).title),I(D,T),I($,C),I(A,O)},[()=>ft(d(u)),()=>ft(d(p)),()=>Ce(d(u),d(p))]),G(m,y)}),S(i),S(s),rt((m,_,y)=>{I(o,m),I(c,_),I(l,y)},[()=>Vr(),()=>Wr(),()=>Ur()]),G(t,s),pt()}const Pa=(t,e,a)=>{e(Object.keys(a).indexOf("trueRetention"))};var Hi=tt('<label><input type="radio"/> </label> <label><input type="radio"/> </label> <label><input type="radio"/> </label>',1),zi=tt("<div> </div>"),Gi=tt('<!> <div class="table-container svelte-1resah2"><!></div>',1),qi=tt('<div slot="tooltip" role="button" tabindex="-1"><!></div>');function Ii(t,e){mt(e,!0);const a=[],s=Q(e,"sourceData",3,null),n=Ot(()=>s()===null?null:s().trueRetention),r={trueRetention:{title:Qe(),help:Xr()}},g=Object.values(r);let o,f;function c(m){o.show(),f.to(m)}let v=dn(fn(kt.Summary));const l=Qe(),i=Kr();Rt(t,{get title(){return l},get subtitle(){return i},children:(m,_)=>{var y=Gi(),u=Z(y);St(u,{children:(D,N)=>{var $=Hi(),w=Z($),A=F(w);dt(A);var T,C=k(A);S(w);var O=k(w,2),M=F(O);dt(M);var P,j=k(M);S(O);var V=k(O,2),E=F(V);dt(E);var K,J=k(E);S(V),rt((U,X,W)=>{var at,nt,st;T!==(T=kt.Young)&&(A.value=(at=A.__value=kt.Young)!=null?at:""),I(C,` ${U!=null?U:""}`),P!==(P=kt.Mature)&&(M.value=(nt=M.__value=kt.Mature)!=null?nt:""),I(j,` ${X!=null?X:""}`),K!==(K=kt.Summary)&&(E.value=(st=E.__value=kt.Summary)!=null?st:""),I(J,` ${W!=null?W:""}`)},[()=>Ya(),()=>ja(),()=>Jr()]),yt(a,[],A,()=>(kt.Young,d(v)),U=>Y(v,U)),yt(a,[],M,()=>(kt.Mature,d(v)),U=>Y(v,U)),yt(a,[],E,()=>(kt.Summary,d(v)),U=>Y(v,U)),G(D,$)},$$slots:{default:!0}});var p=k(u,2),h=F(p);{var b=D=>{var N=zi(),$=F(N,!0);S(N),rt(w=>I($,w),[()=>Zr()]),G(D,N)},x=(D,N)=>{{var $=A=>{Ke(A,{get revlogRange(){return e.revlogRange},get data(){return d(n)},get scope(){return Te.Young}})},w=(A,T)=>{{var C=M=>{Ke(M,{get revlogRange(){return e.revlogRange},get data(){return d(n)},get scope(){return Te.Mature}})},O=(M,P)=>{{var j=E=>{Ke(E,{get revlogRange(){return e.revlogRange},get data(){return d(n)},get scope(){return Te.All}})},V=(E,K)=>{{var J=X=>{ji(X,{get revlogRange(){return e.revlogRange},get data(){return d(n)}})},U=X=>{var W=gn();rt(at=>I(W,at),[()=>fa(d(v))]),G(X,W)};Dt(E,X=>{d(v)===kt.Summary?X(J):X(U,!1)},K)}};Dt(M,E=>{d(v)===kt.All?E(j):E(V,!1)},P)}};Dt(A,M=>{d(v)===kt.Mature?M(C):M(O,!1)},T)}};Dt(D,A=>{d(v)===kt.Young?A($):A(w,!1)},N)}};Dt(h,D=>{d(n)===null?D(b):D(x,!1)})}S(p),G(m,y)},$$slots:{default:!0,tooltip:(m,_)=>{var y=qi();y.__click=[Pa,c,r],y.__keydown=[Pa,c,r];var u=F(y);const p=Ot(()=>Qe());Cs(u,{get title(){return d(p)},get url(){return Rs.DeckOptions.fsrs},get helpSections(){return g},$$events:{mount:h=>{o=h.detail.modal,f=h.detail.carousel}}}),S(y),G(m,y)}}}),pt()}cn(["click","keydown"]);function dl(t){const e=[Pi,Jo,ko,Mi,Fo,hi,Ci,Eo,Oo,xi,Ii,ci,bo,vo];si(t,{get graphs(){return e},initialSearch:"deck:current",initialDays:365,get controller(){return an}})}export{dl as component};
